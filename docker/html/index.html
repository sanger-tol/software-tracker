<h1>PASO - PAthogens SOftware</h1>
<p>This is an API to manange software installs by Pathogen Informatics.</p>
Available API functions:
<ul>
	<li>
		<p><b>query</b> [GET]</p>
        <p>Queries the database for a specific subset of software invocation.</p>
		<p>
			Parameters:
    		<ul>
    			<li><tt>user</tt>=username (<i>optional</i>)</li>
    			<li><tt>before</tt>=timestamp <= VALUE (format <tt>2020-03-01 12:34:56</tt>, shorter allowed. <i>Optional</i>)</li>
    			<li><tt>after</tt>=timestamp >= VALUE (format <tt>2020-03-01 12:34:56</tt>, shorter allowed. <i>Optional</i>)</li>
    			<li><tt>image</tt>=image name (<i>optional</i>)</li>
    			<li><tt>executable</tt>=executable name (<i>optional</i>)</li>
    			<li><tt>parameters</tt>=parameter string, finds all parameters with that substing (<i>optional</i>)</li>
                <li><tt>limit</tt>=max number of results (<i>optional</i>, default: 500)</li>
                <li><tt>format</tt>=output format (<i>optional</i>, default:json, available:json,html)</li>
                <li><tt>aggregate</tt>=keywords, a comma-separated list of keywords to aggregate over the results (<i>optional</i>)<br/>
                    Allowed keywords are: user,image,executable,year,month,week
                </li>
    		</ul>
    	</p>
        <p>
            <i>Example 1:</i> <a href='./query?user=gq2&after=2025-07-18'>runs by gq2 after 18 July 2025 default output as json</a>
        </p>
        <p>
            <i>Example 2:</i> <a href='./query?after=2025-07-18&user=gq2&format=html&aggregate=image'>image usage by gq2 after 18 July 2025 output as html</a>
        </p>
	</li>
    <li>
        <p><b>log</b> [POST]</p>
        <p>Logs a software invocation into a log file and/or the database</p>
        <p>
            POST data contains JSON with these hash keys:
            <pre>{"user":"...","image":"...","executable":"...","path":"...","parameters":"..."}</pre>
        </p>
    </li>
</ul>